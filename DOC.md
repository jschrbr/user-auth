<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [express][1]
-   [passport][2]
-   [passport][3]
-   [PORT][4]
-   [app][5]
-   [app][6]
-   [use][7]
-   [use][8]
-   [then][9]
-   [then][10]
-   [usernameField][11]
-   [done][12]
-   [done][13]
-   [done][14]
-   [serializeUser][15]
-   [serializeUser][16]
-   [serializeUser][17]
-   [db][18]
-   [post][19]
-   [post][20]
-   [post][21]
-   [post][22]
-   [post][23]
-   [post][24]
-   [get][25]
-   [get][26]
-   [json][27]
-   [json][28]
-   [json][29]

## express

Requiring necessary npm packages

## passport

Requiring passport as we've configured it

## passport

Exporting our configured passport

## PORT

Setting up port and requiring models for syncing.

## app

Creating express app and configuring middleware needed for authentication

## app

Requiring our routes

## use

We need to use sessions to keep track of our user's login status.

## use

Telling passport we want to use a Local Strategy. In other words, we want login with a username/email and password

## then

Syncing our database and logging a message to the user upon success

## then

When a user tries to sign in this code runs

## usernameField

Our user will sign in using an email, rather than a "username"

## done

If there's no user with the given email

## done

If there is a user with the given email, but the password the user gives us is incorrect

## done

If none of the above, return the user

## serializeUser

In order to help keep authentication state across HTTP requests,

## serializeUser

Sequelize needs to serialize and deserialize the user

## serializeUser

Just consider this part boilerplate needed to make it all work

## db

Requiring our models and passport as we've configured it

## post

Using the passport.authenticate middleware with our local strategy.

## post

If the user has valid login credentials, send them to the members page.

## post

Otherwise the user will be sent an error

## post

Route for signing up a user. The user's password is automatically hashed and stored securely thanks to

## post

how we configured our Sequelize User Model. If the user is created successfully, proceed to log the user in,

## post

otherwise send back an error

## get

Route for logging user out

## get

Route for getting some data about our user to be used client side

## json

The user is not logged in, send back an empty object

## json

Otherwise send back the user's email and id

## json

Sending back a password, even a hashed password, isn't a good idea

[1]: #express

[2]: #passport

[3]: #passport-1

[4]: #port

[5]: #app

[6]: #app-1

[7]: #use

[8]: #use-1

[9]: #then

[10]: #then-1

[11]: #usernamefield

[12]: #done

[13]: #done-1

[14]: #done-2

[15]: #serializeuser

[16]: #serializeuser-1

[17]: #serializeuser-2

[18]: #db

[19]: #post

[20]: #post-1

[21]: #post-2

[22]: #post-3

[23]: #post-4

[24]: #post-5

[25]: #get

[26]: #get-1

[27]: #json

[28]: #json-1

[29]: #json-2
